{"version":3,"sources":["webpack://ScalaJSBundlerLibrary/webpack/bootstrap","webpack://ScalaJSBundlerLibrary/./jsdocs-opt-entrypoint.js","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/modules/class.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/modules/style.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/modules/eventlisteners.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/modules/props.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/modules/attributes.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/vnode.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/is.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/htmldomapi.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/h.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/thunk.ts","webpack://ScalaJSBundlerLibrary/./node_modules/snabbdom/src/snabbdom.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","x2","updateClass","oldVnode","vnode","cur","elm","oldClass","data","class","klass","classList","remove","classModule","update","raf","window","requestAnimationFrame","undefined","setTimeout","reflowForced","setNextFrame","obj","prop","val","fn","updateStyle","oldStyle","style","oldHasDel","removeProperty","delayed","name2","setProperty","styleModule","pre","destroy","rm","getComputedStyle","document","body","transform","amount","applied","push","props","split","length","indexOf","addEventListener","ev","target","handleEvent","event","type","on","invokeHandler","handler","args","slice","apply","updateEventListeners","oldOn","oldListener","listener","oldElm","removeEventListener","eventListenersModule","updateProps","oldProps","propsModule","updateAttrs","oldAttrs","attrs","setAttribute","removeAttribute","charCodeAt","setAttributeNS","attributesModule","sel","children","text","array","Array","isArray","primitive","createElement","tagName","createElementNS","namespaceURI","qualifiedName","createTextNode","createComment","insertBefore","parentNode","newNode","referenceNode","removeChild","node","child","appendChild","nextSibling","setTextContent","textContent","getTextContent","isElement","nodeType","isText","isComment","h","b","addNS","childData","copyToThunk","thunk","init","prepatch","old","oldArgs","hook","isUndef","isDef","emptyNode","sameVnode","vnode1","vnode2","createKeyToOldIdx","beginIdx","endIdx","ch","map","hooks","domApi","j","cbs","api","createRmCb","childElm","listeners","createElm","insertedVnodeQueue","insert","addVnodes","parentElm","before","vnodes","startIdx","invokeDestroyHook","removeVnodes","findIndex","f","findIndexRev","patchVnode","oldCh","newCh","oldKeyToIdx","idxInOld","elmToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","x","updateChildren","postpatch","parent","isVnode","id","className","join","toLowerCase","emptyNodeAt","post"],"mappings":"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","file":"jsdocs-opt-library.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = {\n  \"require\": (function(x2) {\n    return {\n      \"snabbdom/modules/class\": require(\"snabbdom/modules/class\"),\n      \"snabbdom/modules/style\": require(\"snabbdom/modules/style\"),\n      \"snabbdom/modules/eventlisteners\": require(\"snabbdom/modules/eventlisteners\"),\n      \"snabbdom/modules/props\": require(\"snabbdom/modules/props\"),\n      \"snabbdom\": require(\"snabbdom\"),\n      \"snabbdom/modules/attributes\": require(\"snabbdom/modules/attributes\")\n    }[x2]\n  })\n}","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Classes = Record<string, boolean>\n\nfunction updateClass(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm: Element = vnode.elm as Element,\n      oldClass = (oldVnode.data as VNodeData).class,\n      klass = (vnode.data as VNodeData).class;\n\n  if (!oldClass && !klass) return;\n  if (oldClass === klass) return;\n  oldClass = oldClass || {};\n  klass = klass || {};\n\n  for (name in oldClass) {\n    if (!klass[name]) {\n      elm.classList.remove(name);\n    }\n  }\n  for (name in klass) {\n    cur = klass[name];\n    if (cur !== oldClass[name]) {\n      (elm.classList as any)[cur ? 'add' : 'remove'](name);\n    }\n  }\n}\n\nexport const classModule = {create: updateClass, update: updateClass} as Module;\nexport default classModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type VNodeStyle = Record<string, string> & {\n  delayed?: Record<string, string>\n  remove?: Record<string, string>\n}\n\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\nvar raf = (typeof window !== 'undefined' && (window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : undefined)) || setTimeout;\nvar nextFrame = function(fn: any) { raf(function() { raf(fn); }); };\nvar reflowForced = false;\n\nfunction setNextFrame(obj: any, prop: string, val: any): void {\n  nextFrame(function() { obj[prop] = val; });\n}\n\nfunction updateStyle(oldVnode: VNode, vnode: VNode): void {\n  var cur: any, name: string, elm = vnode.elm,\n      oldStyle = (oldVnode.data as VNodeData).style,\n      style = (vnode.data as VNodeData).style;\n\n  if (!oldStyle && !style) return;\n  if (oldStyle === style) return;\n  oldStyle = oldStyle || {} as VNodeStyle;\n  style = style || {} as VNodeStyle;\n  var oldHasDel = 'delayed' in oldStyle;\n\n  for (name in oldStyle) {\n    if (!style[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.removeProperty(name);\n      } else {\n        (elm as any).style[name] = '';\n      }\n    }\n  }\n  for (name in style) {\n    cur = style[name];\n    if (name === 'delayed' && style.delayed) {\n      for (let name2 in style.delayed) {\n        cur = style.delayed[name2];\n        if (!oldHasDel || cur !== (oldStyle.delayed as any)[name2]) {\n          setNextFrame((elm as any).style, name2, cur);\n        }\n      }\n    } else if (name !== 'remove' && cur !== oldStyle[name]) {\n      if (name[0] === '-' && name[1] === '-') {\n        (elm as any).style.setProperty(name, cur);\n      } else {\n        (elm as any).style[name] = cur;\n      }\n    }\n  }\n}\n\nfunction applyDestroyStyle(vnode: VNode): void {\n  var style: any, name: string, elm = vnode.elm, s = (vnode.data as VNodeData).style;\n  if (!s || !(style = s.destroy)) return;\n  for (name in style) {\n    (elm as any).style[name] = style[name];\n  }\n}\n\nfunction applyRemoveStyle(vnode: VNode, rm: () => void): void {\n  var s = (vnode.data as VNodeData).style;\n  if (!s || !s.remove) {\n    rm();\n    return;\n  }\n  if(!reflowForced) {\n    getComputedStyle(document.body).transform;\n    reflowForced = true;\n  }\n  var name: string, elm = vnode.elm, i = 0, compStyle: CSSStyleDeclaration,\n      style = s.remove, amount = 0, applied: Array<string> = [];\n  for (name in style) {\n    applied.push(name);\n    (elm as any).style[name] = style[name];\n  }\n  compStyle = getComputedStyle(elm as Element);\n  var props = (compStyle as any)['transition-property'].split(', ');\n  for (; i < props.length; ++i) {\n    if(applied.indexOf(props[i]) !== -1) amount++;\n  }\n  (elm as Element).addEventListener('transitionend', function (ev: TransitionEvent) {\n    if (ev.target === elm) --amount;\n    if (amount === 0) rm();\n  });\n}\n\nfunction forceReflow() {\n  reflowForced = false;\n}\n\nexport const styleModule = {\n  pre: forceReflow,\n  create: updateStyle,\n  update: updateStyle,\n  destroy: applyDestroyStyle,\n  remove: applyRemoveStyle\n} as Module;\nexport default styleModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type On = {\n  [N in keyof HTMLElementEventMap]?: (ev: HTMLElementEventMap[N]) => void\n} & {\n  [event: string]: EventListener\n};\n\nfunction invokeHandler(handler: any, vnode?: VNode, event?: Event): void {\n  if (typeof handler === \"function\") {\n    // call function handler\n    handler.call(vnode, event, vnode);\n  } else if (typeof handler === \"object\") {\n    // call handler with arguments\n    if (typeof handler[0] === \"function\") {\n      // special case for single argument for performance\n      if (handler.length === 2) {\n        handler[0].call(vnode, handler[1], event, vnode);\n      } else {\n        var args = handler.slice(1);\n        args.push(event);\n        args.push(vnode);\n        handler[0].apply(vnode, args);\n      }\n    } else {\n      // call multiple handlers\n      for (var i = 0; i < handler.length; i++) {\n        invokeHandler(handler[i], vnode, event);\n      }\n    }\n  }\n}\n\nfunction handleEvent(event: Event, vnode: VNode) {\n  var name = event.type,\n      on = (vnode.data as VNodeData).on;\n\n  // call event handler(s) if exists\n  if (on && on[name]) {\n    invokeHandler(on[name], vnode, event);\n  }\n}\n\nfunction createListener() {\n  return function handler(event: Event) {\n    handleEvent(event, (handler as any).vnode);\n  }\n}\n\nfunction updateEventListeners(oldVnode: VNode, vnode?: VNode): void {\n  var oldOn = (oldVnode.data as VNodeData).on,\n      oldListener = (oldVnode as any).listener,\n      oldElm: Element = oldVnode.elm as Element,\n      on = vnode && (vnode.data as VNodeData).on,\n      elm: Element = (vnode && vnode.elm) as Element,\n      name: string;\n\n  // optimization for reused immutable handlers\n  if (oldOn === on) {\n    return;\n  }\n\n  // remove existing listeners which no longer used\n  if (oldOn && oldListener) {\n    // if element changed or deleted we remove all existing listeners unconditionally\n    if (!on) {\n      for (name in oldOn) {\n        // remove listener if element was changed or existing listeners removed\n        oldElm.removeEventListener(name, oldListener, false);\n      }\n    } else {\n      for (name in oldOn) {\n        // remove listener if existing listener removed\n        if (!on[name]) {\n          oldElm.removeEventListener(name, oldListener, false);\n        }\n      }\n    }\n  }\n\n  // add new listeners which has not already attached\n  if (on) {\n    // reuse existing listener or create new\n    var listener = (vnode as any).listener = (oldVnode as any).listener || createListener();\n    // update vnode for listener\n    listener.vnode = vnode;\n\n    // if element changed or added we add all needed listeners unconditionally\n    if (!oldOn) {\n      for (name in on) {\n        // add listener if element was changed or new listeners added\n        elm.addEventListener(name, listener, false);\n      }\n    } else {\n      for (name in on) {\n        // add listener if new listener added\n        if (!oldOn[name]) {\n          elm.addEventListener(name, listener, false);\n        }\n      }\n    }\n  }\n}\n\nexport const eventListenersModule = {\n  create: updateEventListeners,\n  update: updateEventListeners,\n  destroy: updateEventListeners\n} as Module;\nexport default eventListenersModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\nexport type Props = Record<string, any>;\n\nfunction updateProps(oldVnode: VNode, vnode: VNode): void {\n  var key: string, cur: any, old: any, elm = vnode.elm,\n      oldProps = (oldVnode.data as VNodeData).props,\n      props = (vnode.data as VNodeData).props;\n\n  if (!oldProps && !props) return;\n  if (oldProps === props) return;\n  oldProps = oldProps || {};\n  props = props || {};\n\n  for (key in oldProps) {\n    if (!props[key]) {\n      delete (elm as any)[key];\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    old = (elm as any)[key];\n    if (old !== cur) {\n      (elm as any)[key] = cur;\n    }\n  }\n}\n\nexport const propsModule = {create: updateProps, update: updateProps} as Module;\nexport default propsModule;\n","import {VNode, VNodeData} from '../vnode';\nimport {Module} from './module';\n\n// because those in TypeScript are too restrictive: https://github.com/Microsoft/TSJS-lib-generator/pull/237\ndeclare global {\n  interface Element {\n    setAttribute(name: string, value: string | number | boolean): void;\n    setAttributeNS(namespaceURI: string, qualifiedName: string, value: string | number | boolean): void;\n  }\n}\n\nexport type Attrs = Record<string, string | number | boolean>\n\nconst xlinkNS = 'http://www.w3.org/1999/xlink';\nconst xmlNS = 'http://www.w3.org/XML/1998/namespace';\nconst colonChar = 58;\nconst xChar = 120;\n\nfunction updateAttrs(oldVnode: VNode, vnode: VNode): void {\n  var key: string, elm: Element = vnode.elm as Element,\n      oldAttrs = (oldVnode.data as VNodeData).attrs,\n      attrs = (vnode.data as VNodeData).attrs;\n\n  if (!oldAttrs && !attrs) return;\n  if (oldAttrs === attrs) return;\n  oldAttrs = oldAttrs || {};\n  attrs = attrs || {};\n\n  // update modified attributes, add new attributes\n  for (key in attrs) {\n    const cur = attrs[key];\n    const old = oldAttrs[key];\n    if (old !== cur) {\n      if (cur === true) {\n        elm.setAttribute(key, \"\");\n      } else if (cur === false) {\n        elm.removeAttribute(key);\n      } else {\n        if (key.charCodeAt(0) !== xChar) {\n          elm.setAttribute(key, cur);\n        } else if (key.charCodeAt(3) === colonChar) {\n          // Assume xml namespace\n          elm.setAttributeNS(xmlNS, key, cur);\n        } else if (key.charCodeAt(5) === colonChar) {\n          // Assume xlink namespace\n          elm.setAttributeNS(xlinkNS, key, cur);\n        } else {\n          elm.setAttribute(key, cur);\n        }\n      }\n    }\n  }\n  // remove removed attributes\n  // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n  // the other option is to remove all attributes with value == undefined\n  for (key in oldAttrs) {\n    if (!(key in attrs)) {\n      elm.removeAttribute(key);\n    }\n  }\n}\n\nexport const attributesModule = {create: updateAttrs, update: updateAttrs} as Module;\nexport default attributesModule;\n","import {Hooks} from './hooks';\nimport {AttachData} from './helpers/attachto'\nimport {VNodeStyle} from './modules/style'\nimport {On} from './modules/eventlisteners'\nimport {Attrs} from './modules/attributes'\nimport {Classes} from './modules/class'\nimport {Props} from './modules/props'\nimport {Dataset} from './modules/dataset'\nimport {Hero} from './modules/hero'\n\nexport type Key = string | number;\n\nexport interface VNode {\n  sel: string | undefined;\n  data: VNodeData | undefined;\n  children: Array<VNode | string> | undefined;\n  elm: Node | undefined;\n  text: string | undefined;\n  key: Key | undefined;\n}\n\nexport interface VNodeData {\n  props?: Props;\n  attrs?: Attrs;\n  class?: Classes;\n  style?: VNodeStyle;\n  dataset?: Dataset;\n  on?: On;\n  hero?: Hero;\n  attachData?: AttachData;\n  hook?: Hooks;\n  key?: Key;\n  ns?: string; // for SVGs\n  fn?: () => VNode; // for thunks\n  args?: Array<any>; // for thunks\n  [key: string]: any; // for any other 3rd party module\n}\n\nexport function vnode(sel: string | undefined,\n                      data: any | undefined,\n                      children: Array<VNode | string> | undefined,\n                      text: string | undefined,\n                      elm: Element | Text | undefined): VNode {\n  let key = data === undefined ? undefined : data.key;\n  return {sel, data, children, text, elm, key};\n}\n\nexport default vnode;\n","export const array = Array.isArray;\nexport function primitive(s: any): s is (string | number) {\n  return typeof s === 'string' || typeof s === 'number';\n}\n","export interface DOMAPI {\n  createElement: (tagName: any) => HTMLElement;\n  createElementNS: (namespaceURI: string, qualifiedName: string) => Element;\n  createTextNode: (text: string) => Text;\n  createComment: (text: string) => Comment;\n  insertBefore: (parentNode: Node, newNode: Node, referenceNode: Node | null) => void;\n  removeChild: (node: Node, child: Node) => void;\n  appendChild: (node: Node, child: Node) => void;\n  parentNode: (node: Node) => Node;\n  nextSibling: (node: Node) => Node;\n  tagName: (elm: Element) => string;\n  setTextContent: (node: Node, text: string | null) => void;\n  getTextContent: (node: Node) => string | null;\n  isElement: (node: Node) => node is Element;\n  isText: (node: Node) => node is Text;\n  isComment: (node: Node) => node is Comment;\n}\n\nfunction createElement(tagName: any): HTMLElement {\n  return document.createElement(tagName);\n}\n\nfunction createElementNS(namespaceURI: string, qualifiedName: string): Element {\n  return document.createElementNS(namespaceURI, qualifiedName);\n}\n\nfunction createTextNode(text: string): Text {\n  return document.createTextNode(text);\n}\n\nfunction createComment(text: string): Comment {\n  return document.createComment(text);\n}\n\nfunction insertBefore(parentNode: Node, newNode: Node, referenceNode: Node | null): void {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild(node: Node, child: Node): void {\n  node.removeChild(child);\n}\n\nfunction appendChild(node: Node, child: Node): void {\n  node.appendChild(child);\n}\n\nfunction parentNode(node: Node): Node | null {\n  return node.parentNode;\n}\n\nfunction nextSibling(node: Node): Node | null {\n  return node.nextSibling;\n}\n\nfunction tagName(elm: Element): string {\n  return elm.tagName;\n}\n\nfunction setTextContent(node: Node, text: string | null): void {\n  node.textContent = text;\n}\n\nfunction getTextContent(node: Node): string | null {\n  return node.textContent;\n}\n\nfunction isElement(node: Node): node is Element {\n  return node.nodeType === 1;\n}\n\nfunction isText(node: Node): node is Text {\n  return node.nodeType === 3;\n}\n\nfunction isComment(node: Node): node is Comment {\n  return node.nodeType === 8;\n}\n\nexport const htmlDomApi = {\n  createElement,\n  createElementNS,\n  createTextNode,\n  createComment,\n  insertBefore,\n  removeChild,\n  appendChild,\n  parentNode,\n  nextSibling,\n  tagName,\n  setTextContent,\n  getTextContent,\n  isElement,\n  isText,\n  isComment,\n} as DOMAPI;\n\nexport default htmlDomApi;\n","import {vnode, VNode, VNodeData} from './vnode';\nexport type VNodes = Array<VNode>;\nexport type VNodeChildElement = VNode | string | number | undefined | null;\nexport type ArrayOrElement<T> = T | T[];\nexport type VNodeChildren = ArrayOrElement<VNodeChildElement>\nimport * as is from './is';\n\nfunction addNS(data: any, children: VNodes | undefined, sel: string | undefined): void {\n  data.ns = 'http://www.w3.org/2000/svg';\n  if (sel !== 'foreignObject' && children !== undefined) {\n    for (let i = 0; i < children.length; ++i) {\n      let childData = children[i].data;\n      if (childData !== undefined) {\n        addNS(childData, (children[i] as VNode).children as VNodes, children[i].sel);\n      }\n    }\n  }\n}\n\nexport function h(sel: string): VNode;\nexport function h(sel: string, data: VNodeData): VNode;\nexport function h(sel: string, children: VNodeChildren): VNode;\nexport function h(sel: string, data: VNodeData, children: VNodeChildren): VNode;\nexport function h(sel: any, b?: any, c?: any): VNode {\n  var data: VNodeData = {}, children: any, text: any, i: number;\n  if (c !== undefined) {\n    data = b;\n    if (is.array(c)) { children = c; }\n    else if (is.primitive(c)) { text = c; }\n    else if (c && c.sel) { children = [c]; }\n  } else if (b !== undefined) {\n    if (is.array(b)) { children = b; }\n    else if (is.primitive(b)) { text = b; }\n    else if (b && b.sel) { children = [b]; }\n    else { data = b; }\n  }\n  if (children !== undefined) {\n    for (i = 0; i < children.length; ++i) {\n      if (is.primitive(children[i])) children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n    }\n  }\n  if (\n    sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n    (sel.length === 3 || sel[3] === '.' || sel[3] === '#')\n  ) {\n    addNS(data, children, sel);\n  }\n  return vnode(sel, data, children, text, undefined);\n};\nexport default h;\n","import {VNode, VNodeData} from './vnode';\nimport {h} from './h';\n\nexport interface ThunkData extends VNodeData {\n  fn: () => VNode;\n  args: Array<any>;\n}\n\nexport interface Thunk extends VNode {\n  data: ThunkData;\n}\n\nexport interface ThunkFn {\n  (sel: string, fn: Function, args: Array<any>): Thunk;\n  (sel: string, key: any, fn: Function, args: Array<any>): Thunk;\n}\n\nfunction copyToThunk(vnode: VNode, thunk: VNode): void {\n  thunk.elm = vnode.elm;\n  (vnode.data as VNodeData).fn = (thunk.data as VNodeData).fn;\n  (vnode.data as VNodeData).args = (thunk.data as VNodeData).args;\n  thunk.data = vnode.data;\n  thunk.children = vnode.children;\n  thunk.text = vnode.text;\n  thunk.elm = vnode.elm;\n}\n\nfunction init(thunk: VNode): void {\n  const cur = thunk.data as VNodeData;\n  const vnode = (cur.fn as any).apply(undefined, cur.args);\n  copyToThunk(vnode, thunk);\n}\n\nfunction prepatch(oldVnode: VNode, thunk: VNode): void {\n  let i: number, old = oldVnode.data as VNodeData, cur = thunk.data as VNodeData;\n  const oldArgs = old.args, args = cur.args;\n  if (old.fn !== cur.fn || (oldArgs as any).length !== (args as any).length) {\n    copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n    return;\n  }\n  for (i = 0; i < (args as any).length; ++i) {\n    if ((oldArgs as any)[i] !== (args as any)[i]) {\n      copyToThunk((cur.fn as any).apply(undefined, args), thunk);\n      return;\n    }\n  }\n  copyToThunk(oldVnode, thunk);\n}\n\nexport const thunk = function thunk(sel: string, key?: any, fn?: any, args?: any): VNode {\n  if (args === undefined) {\n    args = fn;\n    fn = key;\n    key = undefined;\n  }\n  return h(sel, {\n    key: key,\n    hook: {init, prepatch},\n    fn: fn,\n    args: args\n  });\n} as ThunkFn;\n\nexport default thunk;","/* global module, document, Node */\nimport {Module} from './modules/module';\nimport {Hooks} from './hooks';\nimport vnode, {VNode, VNodeData, Key} from './vnode';\nimport * as is from './is';\nimport htmlDomApi, {DOMAPI} from './htmldomapi';\n\nfunction isUndef(s: any): boolean { return s === undefined; }\nfunction isDef(s: any): boolean { return s !== undefined; }\n\ntype VNodeQueue = Array<VNode>;\n\nconst emptyNode = vnode('', {}, [], undefined, undefined);\n\nfunction sameVnode(vnode1: VNode, vnode2: VNode): boolean {\n  return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\n\nfunction isVnode(vnode: any): vnode is VNode {\n  return vnode.sel !== undefined;\n}\n\ntype KeyToIndexMap = {[key: string]: number};\n\ntype ArraysOf<T> = {\n  [K in keyof T]: (T[K])[];\n}\n\ntype ModuleHooks = ArraysOf<Module>;\n\nfunction createKeyToOldIdx(children: Array<VNode>, beginIdx: number, endIdx: number): KeyToIndexMap {\n  let i: number, map: KeyToIndexMap = {}, key: Key | undefined, ch;\n  for (i = beginIdx; i <= endIdx; ++i) {\n    ch = children[i];\n    if (ch != null) {\n      key = ch.key;\n      if (key !== undefined) map[key] = i;\n    }\n  }\n  return map;\n}\n\nconst hooks: (keyof Module)[] = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\nexport {h} from './h';\nexport {thunk} from './thunk';\n\nexport function init(modules: Array<Partial<Module>>, domApi?: DOMAPI) {\n  let i: number, j: number, cbs = ({} as ModuleHooks);\n\n  const api: DOMAPI = domApi !== undefined ? domApi : htmlDomApi;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      const hook = modules[j][hooks[i]];\n      if (hook !== undefined) {\n        (cbs[hooks[i]] as Array<any>).push(hook);\n      }\n    }\n  }\n\n  function emptyNodeAt(elm: Element) {\n    const id = elm.id ? '#' + elm.id : '';\n    const c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n    return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n  }\n\n  function createRmCb(childElm: Node, listeners: number) {\n    return function rmCb() {\n      if (--listeners === 0) {\n        const parent = api.parentNode(childElm);\n        if (parent != null)\n            api.removeChild(parent, childElm);\n      }\n    };\n  }\n\n  function createElm(vnode: VNode, insertedVnodeQueue: VNodeQueue): Node {\n    let i: any, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) {\n        i(vnode);\n        data = vnode.data;\n      }\n    }\n    let children = vnode.children, sel = vnode.sel;\n    if (sel === '!') {\n      if (isUndef(vnode.text)) {\n        vnode.text = '';\n      }\n      vnode.elm = api.createComment(vnode.text as string);\n    } else if (sel !== undefined) {\n      const elm = vnode.elm = isDef(data) && isDef(i = (data as VNodeData).ns) ? api.createElementNS(i, sel)\n                                                                               : api.createElement(sel);\n      for (i = 0; i < cbs.create.length; ++i) cbs.create[i](emptyNode, vnode);\n      if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n          const ch = children[i];\n          if (ch != null) {\n            api.appendChild(elm, createElm(ch as VNode, insertedVnodeQueue));\n          }\n        }\n      } else if (is.primitive(vnode.text)) {\n        api.appendChild(elm, api.createTextNode(vnode.text));\n      }\n      i = (vnode.data as VNodeData).hook; // Reuse variable\n      if (isDef(i)) {\n        if (i.create) i.create(emptyNode, vnode);\n        if (i.insert) insertedVnodeQueue.push(vnode);\n      }\n    } else {\n      vnode.elm = api.createTextNode(vnode.text as string);\n    }\n    return vnode.elm;\n  }\n\n  function addVnodes(parentElm: Node,\n                     before: Node | null,\n                     vnodes: Array<VNode>,\n                     startIdx: number,\n                     endIdx: number,\n                     insertedVnodeQueue: VNodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx];\n      if (ch != null) {\n        api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n      }\n    }\n  }\n\n  function invokeDestroyHook(vnode: VNode) {\n    let i: any, j: number, data = vnode.data;\n    if (data !== undefined) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode);\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode);\n      if (vnode.children !== undefined) {\n        for (j = 0; j < vnode.children.length; ++j) {\n          i = vnode.children[j];\n          if (i != null && typeof i !== \"string\") {\n            invokeDestroyHook(i);\n          }\n        }\n      }\n    }\n  }\n\n  function removeVnodes(parentElm: Node,\n                        vnodes: Array<VNode>,\n                        startIdx: number,\n                        endIdx: number): void {\n    for (; startIdx <= endIdx; ++startIdx) {\n      let i: any, listeners: number, rm: () => void, ch = vnodes[startIdx];\n      if (ch != null) {\n        if (isDef(ch.sel)) {\n          invokeDestroyHook(ch);\n          listeners = cbs.remove.length + 1;\n          rm = createRmCb(ch.elm as Node, listeners);\n          for (i = 0; i < cbs.remove.length; ++i) cbs.remove[i](ch, rm);\n          if (isDef(i = ch.data) && isDef(i = i.hook) && isDef(i = i.remove)) {\n            i(ch, rm);\n          } else {\n            rm();\n          }\n        } else { // Text node\n          api.removeChild(parentElm, ch.elm as Node);\n        }\n      }\n    }\n  }\n\n  function findIndex(children: Array<VNode>, startIdx: number, endIdx: number, f: (_: VNode) => boolean): number {\n    var i = startIdx\n    while (i <= endIdx) {\n      if (f(children[i])) return i;\n      i++;\n    }\n    return -1;\n  }\n  function findIndexRev(children: Array<VNode>, startIdx: number, endIdx: number, f: (_: VNode) => boolean): number {\n    var i = endIdx\n    while (i >= startIdx) {\n      if (f(children[i])) return i;\n      i--;\n    }\n    return -1;\n  }\n\n  function updateChildren(parentElm: Node,\n                          oldCh: Array<VNode>,\n                          newCh: Array<VNode>,\n                          insertedVnodeQueue: VNodeQueue) {\n    let oldStartIdx = 0, newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx: any;\n    let idxInOld: number;\n    let elmToMove: VNode;\n    let before: any;\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (oldStartVnode == null) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n      } else if (oldEndVnode == null) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (newStartVnode == null) {\n        newStartVnode = newCh[++newStartIdx];\n      } else if (newEndVnode == null) {\n        newEndVnode = newCh[--newEndIdx];\n      } else if (isDef(newStartVnode.elm)) {\n        if (newStartVnode.elm == oldStartVnode.elm) {\n          oldStartVnode = oldCh[++oldStartIdx];\n          newStartVnode = newCh[++newStartIdx];\n        } else if (newStartVnode.elm == oldEndVnode.elm) {\n          api.insertBefore(parentElm, (oldEndVnode.elm as Node), oldStartVnode.elm as Node);\n          oldEndVnode = oldCh[--oldEndIdx];\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          idxInOld = findIndex(oldCh, oldStartIdx + 1, oldEndIdx - 1, x => isDef(x) && newStartVnode.elm == x.elm);\n          if (idxInOld == -1) {\n            newStartVnode.elm = undefined as any;\n          } else {\n            elmToMove = oldCh[idxInOld];\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n            newStartVnode = newCh[++newStartIdx];\n          }\n        }\n      } else if (isDef(newEndVnode.elm)) {\n        if (newEndVnode.elm == oldEndVnode.elm) {\n          oldEndVnode = oldCh[--oldEndIdx];\n          newEndVnode = newCh[--newEndIdx];\n        } else if (newEndVnode.elm == oldStartVnode.elm) {\n          api.insertBefore(parentElm, (oldStartVnode.elm as Node), api.nextSibling(oldEndVnode.elm as Node));\n          oldStartVnode = oldCh[++oldStartIdx];\n          newEndVnode = newCh[--newEndIdx];\n        } else {\n          idxInOld = findIndexRev(oldCh, oldStartIdx + 1, oldEndIdx - 1, x => isDef(x) && newEndVnode.elm == x.elm);\n          if (idxInOld == -1) {\n            newEndVnode.elm = undefined as any;\n          } else {\n            elmToMove = oldCh[idxInOld];\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm,(elmToMove.elm as Node), api.nextSibling(oldEndVnode.elm as Node));\n            newEndVnode = newCh[--newEndIdx];\n          }\n        }\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldStartVnode.elm as Node, api.nextSibling(oldEndVnode.elm as Node));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n        api.insertBefore(parentElm, oldEndVnode.elm as Node, oldStartVnode.elm as Node);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (oldKeyToIdx === undefined) {\n          oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n        }\n        idxInOld = oldKeyToIdx[newStartVnode.key as string];\n        if (isUndef(idxInOld)) { // New element\n          api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          newStartVnode = newCh[++newStartIdx];\n        } else {\n          elmToMove = oldCh[idxInOld];\n          if (elmToMove.sel !== newStartVnode.sel) {\n            api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm as Node);\n          } else {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n            oldCh[idxInOld] = undefined as any;\n            api.insertBefore(parentElm, (elmToMove.elm as Node), oldStartVnode.elm as Node);\n          }\n          newStartVnode = newCh[++newStartIdx];\n        }\n      }\n    }\n    if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n      if (oldStartIdx > oldEndIdx) {\n        before = newCh[newEndIdx+1] == null ? null : newCh[newEndIdx+1].elm;\n        addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n      } else {\n        removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n      }\n    }\n  }\n\n  function patchVnode(oldVnode: VNode, vnode: VNode, insertedVnodeQueue: VNodeQueue) {\n    let i: any, hook: any;\n    if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n      i(oldVnode, vnode);\n    }\n    const elm = vnode.elm = (oldVnode.elm as Node);\n    let oldCh = oldVnode.children;\n    let ch = vnode.children;\n    if (oldVnode === vnode) return;\n    if (vnode.data !== undefined) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode);\n      i = vnode.data.hook;\n      if (isDef(i) && isDef(i = i.update)) i(oldVnode, vnode);\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh as Array<VNode>, ch as Array<VNode>, insertedVnodeQueue);\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) api.setTextContent(elm, '');\n        addVnodes(elm, null, ch as Array<VNode>, 0, (ch as Array<VNode>).length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      } else if (isDef(oldVnode.text)) {\n        api.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh as Array<VNode>, 0, (oldCh as Array<VNode>).length - 1);\n      }\n      api.setTextContent(elm, vnode.text as string);\n    }\n    if (isDef(hook) && isDef(i = hook.postpatch)) {\n      i(oldVnode, vnode);\n    }\n  }\n\n  return function patch(oldVnode: VNode | Element, vnode: VNode): VNode {\n    let i: number, elm: Node, parent: Node;\n    const insertedVnodeQueue: VNodeQueue = [];\n    for (i = 0; i < cbs.pre.length; ++i) cbs.pre[i]();\n\n    if (!isVnode(oldVnode)) {\n      oldVnode = emptyNodeAt(oldVnode);\n    }\n\n    if (sameVnode(oldVnode, vnode)) {\n      patchVnode(oldVnode, vnode, insertedVnodeQueue);\n    } else {\n      elm = oldVnode.elm as Node;\n      parent = api.parentNode(elm);\n\n      createElm(vnode, insertedVnodeQueue);\n\n      if (parent !== null) {\n        api.insertBefore(parent, vnode.elm as Node, api.nextSibling(elm));\n        removeVnodes(parent, [oldVnode], 0, 0);\n      }\n    }\n\n    for (i = 0; i < insertedVnodeQueue.length; ++i) {\n      (((insertedVnodeQueue[i].data as VNodeData).hook as Hooks).insert as any)(insertedVnodeQueue[i]);\n    }\n    for (i = 0; i < cbs.post.length; ++i) cbs.post[i]();\n    return vnode;\n  };\n}\n"],"sourceRoot":""}